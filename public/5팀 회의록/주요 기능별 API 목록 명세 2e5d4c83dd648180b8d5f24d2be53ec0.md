# 주요 기능별 API 목록 명세

1. 순서
핵심 데이터 모델 정의 - **주요 기능별 API 목록**을 작성 - Supabase 활용 방안
2. 데이터 모델 (테이블) 설계
3. 주요 기능별 API 목록 명세 
    - 프로젝트 관리 (Projects)
    
    | **기능 (Feature)** | **HTTP Method** | **Endpoint** | **설명** | **Supabase 활용** |
    | --- | --- | --- | --- | --- |
    | **프로젝트 목록 조회** | `GET` | `/rest/v1/projects` | 메인 페이지, 카테고리별 목록. 정렬, 필터링 기능. | `projects` 테이블 Read, 필터링, 정렬 |
    | **프로젝트 상세 조회** | `GET` | `/rest/v1/projects?id=eq.{id}&select=*,comments(*),users(*)` | 특정 프로젝트 상세 정보 및 관련 데이터 조회. | `projects` 테이블 Read, **Join (PostgREST)** |
    | **프로젝트 등록** | `POST` | `/rest/v1/projects` | 새로운 프로젝트 게시물 생성. | `projects` 테이블 Insert |
    | **프로젝트 수정/삭제** | `PATCH`/`DELETE` | `/rest/v1/projects?id=eq.{id}` | 등록된 프로젝트 내용 수정 및 삭제. | `projects` 테이블 Update/Delete |
    - 상호 작용 (Interaction - Comments, Likes, Wishlist)
    
    | **기능 (Feature)** | **HTTP Method** | **Endpoint** | **설명 (Description)** | **Supabase 활용** |
    | --- | --- | --- | --- | --- |
    | **댓글 등록/조회** | `POST`/`GET` | `/rest/v1/comments` | 특정 프로젝트에 댓글 작성 및 조회. | `comments` 테이블 Insert/Read |
    | **좋아요 토글** | `POST`/`DELETE` | `/rest/v1/likes` | 프로젝트에 좋아요 추가/취소. | `likes` 테이블 Insert/Delete |
    | **위시리스트 추가/제거** | `POST`/`DELETE` | `/rest/v1/wishlists` | 마이페이지 위시리스트에 프로젝트 추가/제거. | `wishlists` 테이블 Insert/Delete |
4. Supabase 활용 세부 지침
    1. Storage (파일 관리) 활용
        1. **용도:** 프로젝트 썸네일, 첨부 이미지, 사용자 프로필 이미지 등의 **파일 업로드 및 관리**에 사용
        2. **API:** `POST /storage/v1/object/bucketName/{filePath}`를 사용하여 파일을 업로드하고, 파일의 공개 URL을 얻어 `projects` 테이블의 `thumbnail_url` 컬럼에 저장합니다. **버킷(Bucket)** 권한 설정도 RLS와 유사하게 관리해야 합니다.
    2. RLS (Row Level Security) 설정
        1. **필수 보안 설정:** Supabase의 가장 중요한 보안 기능입니다. 각 테이블에 대해 누가(인증된 사용자, 익명 사용자 등) 어떤 작업을(SELECT, INSERT, UPDATE, DELETE) 할 수 있는지 권한을 설정해야 합니다.
        2. **예시:** `projects` 테이블의 `UPDATE`와 `DELETE`는 해당 프로젝트를 **작성한 사용자($user\_id$가 현재 $auth.uid()$와 일치)**에게만 허용하도록 설정합니다.

---

1. 라우팅 및 데이터 페칭 
    1. 라우팅 (Routing)
    SPA(Single Page Application) 환경 - 클라이언트 측 라우팅
    **React Router (Dom)** 라이브러리를 사용, 동적 라우팅($/projects/:id$) 구현
    2. 데이터 페칭 (Data Fetching)
    클라이언트(브라우저)가 서버(Supabase)로부터 데이터를 가져오거나(GET) 전송하는(POST, PUT 등) 과정
    **TanStack Query** (

웹페이지 - 수퍼베이스 API (데이터 올리고 내리고 수정 …)